<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the API • DatawRappr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the API">
<meta property="og:description" content="How to make simple API-calls
">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DatawRappr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/export.html">Exporting a chart</a>
    </li>
    <li>
      <a href="../articles/map.html">Create a Map</a>
    </li>
    <li>
      <a href="../articles/usage.html">Using the API</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/munichrocker/DatawRappr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="usage_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using the API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/munichrocker/DatawRappr/blob/master/vignettes/usage.Rmd"><code>vignettes/usage.Rmd</code></a></small>
      <div class="hidden name"><code>usage.Rmd</code></div>

    </div>

    
    
<div id="making-api-calls" class="section level1">
<h1 class="hasAnchor">
<a href="#making-api-calls" class="anchor"></a>Making API-calls</h1>
<div id="create-a-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-chart" class="anchor"></a>Create a chart</h2>
<p>To <strong>create an empty chart</strong>, you can use</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_create_chart.html">dw_create_chart</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>which will use the API key stored locally on your system.</p>
<p>By default, Datawrapper will create an empty linechart, without a title. The function returns a <strong>dw_chart</strong>-object with the metadata-elements from the API. This object can be used to populate the <code>chart_id</code>-argument in all other functions - which means you don’t have to deal with it. Just store the response from <code><a href="../reference/dw_create_chart.html">dw_create_chart()</a></code> in your R-environment.</p>
</div>
<div id="add-data-to-the-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#add-data-to-the-chart" class="anchor"></a>Add data to the chart</h2>
<p>To populate that chart with data, you can run</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_data_to_chart.html">dw_data_to_chart</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="va">DATAFRAME</span>, 
  chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span> <span class="op">-</span> <span class="va">object</span>
  <span class="op">)</span></code></pre></div>
<p>which uploads an R data.frame to an Datawrapper chart.</p>
<p>The data.frame should already be in the right format, only including the expected columns for the chart. The API will asume, that the first row contains headers. If that’s not true, you have to edit the metadata afterwards:</p>
</div>
<div id="edit-charts-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#edit-charts-metadata" class="anchor"></a>Edit chart’s metadata</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_edit_chart.html">dw_edit_chart</a></span><span class="op">(</span>
  chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span> <span class="op">-</span> <span class="va">object</span>,
  title <span class="op">=</span> <span class="st">"I'm a title"</span>,
  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>`horizontal-header` <span class="op">=</span> <span class="st">"false"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Datawrapper offers a lot of variability in editing it’s charts’ metadata. You can find a whole <a href="https://developer.datawrapper.de/docs/chart-properties-1">Documentation here</a>.</p>
<p>To speed things up, the <code><a href="../reference/dw_edit_chart.html">dw_edit_chart()</a></code>-function has some built-in arguments for common transformations:</p>
<ul>
<li><code>title</code></li>
<li>
<code>intro</code> which is the text below the title</li>
<li>
<code>annotate</code> which is the text below the plot</li>
<li>
<code>byline</code> which is the name of the author</li>
<li>
<code>source_name</code> which states the source</li>
<li>
<code>source_url</code> which links to the source - but only if a <code>source_name</code> is provided</li>
</ul>
<p>If you want to edit specific arguments in your plot, you can use the arguments <code>data</code>, <code>visualize</code>, <code>describe</code> and <code>publish</code> to include lists to the API call which change all possible settings in a chart, as shown in the example above. Or you may change the theme by simply adding it via the <code>...</code>-option:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_edit_chart.html">dw_edit_chart</a></span><span class="op">(</span>
  chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span> <span class="op">-</span> <span class="va">object</span>,
  theme <span class="op">=</span> <span class="st">"my_beautiful_dw_theme"</span>
<span class="op">)</span></code></pre></div>
<p>When you’re finished editing your chart, you might want to publish it:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_publish_chart.html">dw_publish_chart</a></span><span class="op">(</span>chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span><span class="op">-</span><span class="va">object</span><span class="op">)</span></code></pre></div>
<p>This function returns a URL to the chart and the embed code, if you set the argument <em>return_urls</em> to <code>TRUE</code>.</p>
</div>
<div id="delete-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#delete-chart" class="anchor"></a>Delete chart</h2>
<p>Or you might want to delete a chart:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dw_delete_chart.html">dw_delete_chart</a></span><span class="op">(</span>chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span><span class="op">-</span><span class="va">object</span><span class="op">)</span></code></pre></div>
</div>
<div id="export-chart" class="section level2">
<h2 class="hasAnchor">
<a href="#export-chart" class="anchor"></a>Export chart</h2>
<p>You can export charts as png - or even in pdf or svg, if you’re using a paid plan.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">exported_chart</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/dw_export_chart.html">dw_export_chart</a></span><span class="op">(</span>chart_id <span class="op">=</span> <span class="va">CHART_ID_OR_dw_chart</span> <span class="op">-</span> <span class="va">object</span>,
                  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"png"</span>, <span class="st">"pdf"</span>, <span class="st">"svg"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://www.benedict-witzenberger.de">Benedict Witzenberger</a>, Bob Rudis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
